<tal:block repeat="widget view/widgets/values">

  <td tal:define="link python:view.context.context.link(view.getContent());
                  error widget/error"
      tal:attributes="class python:'field' + (error and ' error' or '')">

    <a href=""
       tal:omit-tag="python:not (repeat['widget'].index() == 1 and
                     link and widget.mode == 'display')"
       tal:attributes="href link">

      <span class="error" tal:omit-tag="not:error">
        <div tal:condition="error" tal:replace="structure error/render" />
        <input type="text" tal:replace="structure widget/render" />
      </span>

    </a>

  </td>
</tal:block>
